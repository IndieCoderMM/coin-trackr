<%= render 'shared/header', title: @category.name, back_link: categories_path %>
<section class="container">
<div class="total-header">
    <p>Spending: <%= number_to_currency(@category.total_expense) %></p>
    <%= button_to content_tag(:i, "", class: "fa-solid fa-trash"), category_path(@category), method: :delete, class: 'del-btn' %>
</div>

<% if @expenses.empty? %>
    <div class="note-container">
        <h2 class="note-title">No Expenses Yet!</h2> 
        <p class="note-text">You haven't added any expenses to this category yet. Click the "Add Expense" button below and enter the details of your expense to track your spending.</p>
    </div>
<% else %>
    <div class="items-container">
        <% @expenses.each do |expense| %>
            <%= render 'expense_item', category: expense.categories[0], expense: expense %>
        <% end %>
    </div>
<% end %>

<div class="action-container">
    <%= link_to "Add Expense", new_category_expense_path(@category), class: "action-button" %>
</div>
</section>